#!/bin/bash
    #exec ~/bin/qmlterm/ubuntu2 -e 
    #"python ~/git/kd_tree_tile/auto_regularize.py"
    #窗口重叠的时候会自动关闭,所以可以不需要监控了
    #包括所有窗口关闭的时候,也会停止,这样是比较适合的,
    #因为所有窗口都关闭的时候,自然是不再需要tile了,
    #开新窗口是否需要tile可以到时候再定

    #2017-08-03 04:39:52 Thu NZST
    #但是做成自动触发之后,约束感很强,因为窗口会在自己没有要求的情况下移动
    #这种感受,似乎会带来额外的强制状态记忆需求,额外的注意力浪费,感觉很不舒服
    #因为需要时刻记着,当前是否是autotiling 状态,如果新建窗口,会出现什么效果
    #否则窗口移动的时候就会形成意外,而意外自然会吸引你的注意力偏离当前的事务
    #因此就是说,从精力消耗的角度来说,autotiling的消耗反而变高了,

    #实际上或许原本tiling wm 大概就不是适合休闲使用的,是需要大量集中注意力的,休闲使用的,则应该是用鼠标操作的.用各种顺手的方法去操作,而不受约束.
    #因此手动tiling 作为一个附加 顺手方法,在需要的时候,比如说鼠标不便的时候,会有用,
    #但是如果设置乘自动,因而妨碍到鼠标操作,或者是妨碍到wm自身的最大化/全屏/最小化操作之后,就是一个阻碍了.
    #从休闲的角度来说,需要有尽可能多的顺手方法,但是每一个方法应该互相独立,而不能像autotiling 一样干涉到其他方法, 从而确保可以不受约束的任意选择 操作的方法.
    #这样才能消除约束感,而所谓约束感,实质应该就是,不得不在心中记录状态,而不是单纯的依照界面上的,所见即所得的进行操作,也就是说,按照所见的,推理出一个顺手的操作之后,会被心中记录的状态干扰到,从而形成禁忌/约束.因而不得不付出多余的注意力,记住当前的状态信息/禁忌,在下次进行操作的时候,在禁忌列表中过滤,来确保操作可行,  
   # 也就是说,形成了一个无形的禁忌,使得你在所有操作之前,都不得不进行过滤,来确保无误,因此凭空多出了一个思考步骤,因此消耗掉了更多的精力,分散掉了注意力 

pname=freetile-auto
pid=`pgrep $pname`
echo $pid

if [[ -z $pid ]];then
    notify-send "auto tiling is on"


    #release用
    #freetile autotile
    #测试用
    cd ~/git/freetile/
    python -m  freetile autotile --debug &> ~/del/log/autotile

    notify-send "auto tiling  is off"   
else
    echo locked
    pkill freetile-auto
fi
